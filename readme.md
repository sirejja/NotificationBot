# Notification bot for devman marks
### Фунционал:
* Программа опрашивает API сайта dvmn.org в режиме long-polling
* В случае ответа сервера с полезной информацией формируется сообщение для отправки пользователю через Телеграм бота.
* Логи отправляются админу через второго бота.
  



### Запуск на windows
Git и python должны быть установлены
1. git clone <url репозитория>
2. Создание виртуального окружения
```
python -m venv .venv
```
3. Активация виртуального окружения
```
.venv\scripts\activate
```
4. Установка зависимостей
```
pip install -r requirements.txt
```
5. Запуск приложения
```
python main.py
```


### Env vars:
Переменные окружения могут быть получены как из файла .env корневой директории, так и из ОС.
Формат строк в .env файле: 'key=value'
* TG_TOKEN - токен телеграмм бота для отправки уведомлений о проверке работ.
* TG_LOGS_TOKEN - токен для отправки логов.
* TG_CHAT_ID - id чата человека, получающего уведомления.
* DVMN_TOKEN - токен для работы с API Devman. [DVMN's API](https://dvmn.org/api/docs/)
  
### Globals:
* DVMN_TIMEOUT - по умолчанию равен 100с, на момент написания бота long-polling API Devman рассчитан на 90с.
